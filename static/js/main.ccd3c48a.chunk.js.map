{"version":3,"sources":["Graph.js","Status.js","StatList.js","MainSection.js","App.js","reportWebVitals.js","index.js"],"names":["drawingOptions","autoResize","height","nodes","shape","font","size","physics","forceAtlas2Based","gravitationalConstant","centralGravity","springLength","springConstant","maxVelocity","solver","timestep","stabilization","iterations","edges","arrows","to","enabled","scaleFactor","type","events","click","params","event","console","log","this","getNodeAt","pointer","DOM","doubleClick","oncontext","dragStart","dragging","dragEnd","controlNodeDragging","controlNodeDragEnd","zoom","showPopup","hidePopup","select","selectNode","selectEdge","deselectNode","deselectEdge","hoverNode","hoverEdge","blurNode","blurEdge","Graph","data","useState","graphData","setGraphData","useEffect","Object","keys","length","i","submission","node","id","name","registered","color","status","push","vouched_list","j","vouchee","edge","create_edge_list","className","options","Status","person","get_vouched","vouched_by","href","target","rel","n_vouches","days_left","current_vouch","StatList","count_registered","count","count_vouched","on_queue","map","MainSection","App","setData","fetch","then","res","text","replace","JSON","parse","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ccd3c48a.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport VisNetworkReactComponent from \"vis-network-react\";\r\n\r\nlet drawingOptions = {\r\n  autoResize: true,\r\n  height: '100%',\r\n  nodes: {\r\n      shape: \"dot\",\r\n      // size: 6,\r\n      font:{\r\n        size: 10\r\n      }\r\n  },\r\n  physics: {\r\n      forceAtlas2Based: {\r\n          gravitationalConstant: -5,\r\n          centralGravity: 0.005,\r\n          springLength: 50,\r\n          springConstant: 0.2,\r\n      },\r\n      maxVelocity: 100,\r\n      solver: \"forceAtlas2Based\",\r\n      timestep: 0.5,\r\n      stabilization: { iterations: 50 },\r\n  },\r\n  edges: {\r\n      arrows: {\r\n          to: { enabled: true, scaleFactor: 0.5, type: \"arrow\" }\r\n      }\r\n  }\r\n};\r\n\r\nlet events = {\r\n  click: function (params) {\r\n    params.event = \"[original event]\";\r\n    console.log(\r\n      \"click event, getNodeAt returns: \" + this.getNodeAt(params.pointer.DOM)\r\n    );\r\n  },\r\n  doubleClick: function (params) {\r\n    console.log(\"doubleClick Event:\", params);\r\n    params.event = \"[original event]\";\r\n  },\r\n  oncontext: function (params) {\r\n    console.log(\"oncontext Event:\", params);\r\n\r\n    params.event = \"[original event]\";\r\n  },\r\n  dragStart: function (params) {\r\n    // There's no point in displaying this event on screen, it gets immediately overwritten\r\n    params.event = \"[original event]\";\r\n    console.log(\"dragStart Event:\", params);\r\n    console.log(\r\n      \"dragStart event, getNodeAt returns: \" +\r\n        this.getNodeAt(params.pointer.DOM)\r\n    );\r\n  },\r\n  dragging: function (params) {\r\n    params.event = \"[original event]\";\r\n  },\r\n  dragEnd: function (params) {\r\n    params.event = \"[original event]\";\r\n    console.log(\"dragEnd Event:\", params);\r\n    console.log(\r\n      \"dragEnd event, getNodeAt returns: \" + this.getNodeAt(params.pointer.DOM)\r\n    );\r\n  },\r\n  controlNodeDragging: function (params) {\r\n    params.event = \"[original event]\";\r\n  },\r\n  controlNodeDragEnd: function (params) {\r\n    params.event = \"[original event]\";\r\n    console.log(\"controlNodeDragEnd Event:\", params);\r\n  },\r\n  zoom: function (params) {},\r\n  showPopup: function (params) {},\r\n  hidePopup: function () {\r\n    console.log(\"hidePopup Event\");\r\n  },\r\n  select: function (params) {\r\n    console.log(\"select Event:\", params);\r\n  },\r\n  selectNode: function (params) {\r\n    console.log(\"selectNode Event:\", params);\r\n  },\r\n  selectEdge: function (params) {\r\n    console.log(\"selectEdge Event:\", params);\r\n  },\r\n  deselectNode: function (params) {\r\n    console.log(\"deselectNode Event:\", params);\r\n  },\r\n  deselectEdge: function (params) {\r\n    console.log(\"deselectEdge Event:\", params);\r\n  },\r\n  hoverNode: function (params) {\r\n    console.log(\"hoverNode Event:\", params);\r\n  },\r\n  hoverEdge: function (params) {\r\n    console.log(\"hoverEdge Event:\", params);\r\n  },\r\n  blurNode: function (params) {\r\n    console.log(\"blurNode Event:\", params);\r\n  },\r\n  blurEdge: function (params) {\r\n    console.log(\"blurEdge Event:\", params);\r\n  },\r\n};\r\n\r\nfunction Graph({data}) {\r\n\r\n  const [graphData, setGraphData] = useState({});\r\n\r\n\r\n  const create_edge_list = (data) => {\r\n    let nodes = [];\r\n    let edges = [];\r\n    for (var i=0; i<data.length;i++) {\r\n      let submission = data[i];\r\n      let node = {\r\n        'id': submission.id, \r\n        'label': submission.name,\r\n        'color': \"#EF4444\",\r\n        'size': 5\r\n      }\r\n      if (submission.registered){\r\n        node.color = \"#10B981\";\r\n        node.size = 7\r\n      }\r\n      if (submission.status ===\"PendingRegistration\"){\r\n        node.color = \"#F59E0B\";\r\n        node.size = 6\r\n      }\r\n      nodes.push(node) ;\r\n      if (submission.vouched_list.length >0) {\r\n        for (var j=0; j<submission.vouched_list.length;j++){\r\n          let vouchee = submission.vouched_list[j];\r\n          let edge = {\r\n                'from': node.id,\r\n                'to': vouchee\r\n              }\r\n          edges.push(edge);\r\n        }\r\n      }     \r\n    }\r\n    setGraphData({'nodes': nodes, 'edges':edges})\r\n  }\r\n\r\n  useEffect( () => {\r\n    if( Object.keys(graphData).length === 0){\r\n      create_edge_list(data);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"h-full\">\r\n      <VisNetworkReactComponent\r\n        data={graphData}\r\n        options={drawingOptions}\r\n        events={events}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Graph;","import React from \"react\"\r\n\r\nfunction Status({person}) {\r\n\r\n    const get_vouched = (person) => {\r\n        if (person.vouched_by === 'null') {\r\n            if (person.registered  || person.status === \"PendingRegistration\"){ return 'external'}\r\n            else{\r\n                return \"\"\r\n            }\r\n        }\r\n        else{\r\n            return person.vouched_by\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"flex m-1 bg-gray-100\">\r\n        <div className={person.registered ? \"w-2 md:w-4 bg-green-500\": person.status ===\"PendingRegistration\" ? \"w-2 md:w-4 bg-yellow-500\": \"w-2 md:w-4 bg-red-500\"}></div>\r\n        <div className=\"p-1 w-4/5\">\r\n        <h4 className=\"font-lg font-bold\"><a href={'https://app.proofofhumanity.id/profile/'+person.id+'?network=mainnet'} target=\"_blank\" rel=\"noopener noreferrer\">{person.name}</a></h4>\r\n        <h4 className=\"text-xs truncate\">{person.id}</h4>\r\n        {\r\n            get_vouched(person) !== \"\" \r\n            ? <div>&nbsp;&nbsp;&nbsp;&nbsp;vouched by: {get_vouched(person)}</div>\r\n            : <div></div>\r\n\r\n        }\r\n        \r\n        {\r\n            person.registered \r\n            ? <div>&nbsp;&nbsp;&nbsp;&nbsp; # vouches: {person.n_vouches} </div>\r\n            : person.status === \"PendingRegistration\"\r\n                ?<div>&nbsp;&nbsp;&nbsp;&nbsp;pending: {person.days_left}</div>\r\n                :<div><div>&nbsp;&nbsp;&nbsp;&nbsp;waiting for vouch</div> <div>&nbsp;&nbsp;&nbsp;&nbsp;Approx wait: {person.days_left}</div></div>\r\n        }\r\n        {\r\n            person.current_vouch \r\n            ? <div>&nbsp;&nbsp;&nbsp;&nbsp;current vouch: {person.current_vouch.name}</div>\r\n            : <div></div>\r\n        }\r\n        \r\n        </div>\r\n        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Status;\r\n","import React from \"react\"\r\nimport Status from \"./Status\"\r\n\r\nfunction StatList({data}) {\r\n\r\n  const count_registered = (data) => {\r\n    var i = 0;\r\n    var count = 0;\r\n    while (i<data.length) {\r\n      if(data[i].registered) count +=1;\r\n      i+=1\r\n    }\r\n    return count;\r\n  }\r\n\r\n  const count_vouched = (data) => {\r\n    var i = 0;\r\n    var count = 0;\r\n    while (i<data.length) {\r\n      if(data[i].status === \"PendingRegistration\") count +=1;\r\n      i+=1\r\n    }\r\n    return count;\r\n  }\r\n\r\n  const on_queue = (data) => {\r\n    return data.length - count_registered(data) - count_vouched(data)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-center text-lg\">\r\n        Registered: {count_registered(data)}\r\n        <br/>\r\n        Vouched: {count_vouched(data)}\r\n        <br/>\r\n        Queue: {on_queue(data)}\r\n      </h3>\r\n      <br/>\r\n      <hr />\r\n      <h4 className=\"text-sm font-bold text-yellow-500\"><a href=\"http://shorturl.at/nvNO2\" target=\"_blank\" rel=\"noopener noreferrer\">Official List</a></h4>\r\n      <h4 className=\"text-sm font-bold text-yellow-500\"><a href=\"http://shorturl.at/nvNO2\" target=\"_blank\" rel=\"noopener noreferrer\">Official Telegram Group</a></h4>\r\n      <hr />\r\n      <br/>\r\n      <h3 className=\"m-1 text-lg\"> Crowdvoucher List</h3>\r\n      <ul>\r\n        {data.map(person => ( \r\n          <Status person={person} key={person.id}/>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StatList;\r\n","import React from \"react\"\r\nimport Graph from './Graph'\r\nimport StatList from './StatList'\r\n\r\nfunction MainSection({data}) {\r\n  return (\r\n    <div className=\"h-full flex justify-center\" >\r\n        <div className = \"hidden md:block m-2.5 w-3/4\"> <Graph data={data}/></div>\r\n        <div className = \"m-2.5 overflow-y-auto md:w-1/4 \">\r\n            <StatList data={data} />\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainSection;\r\n","import React, { useState, useEffect} from \"react\"\nimport './App.css';\nimport fetch from 'cross-fetch';\nimport MainSection from './MainSection'\n\nfunction App() {\n  const [data, setData] = useState([{'name': \"none\", \"id\": \"1\"}])\n\n  const apiLink = \"https://poh-query.herokuapp.com/\"\n\n  const fetchData = () => {\n    fetch(apiLink)\n    .then(res => res.text())\n    .then(res => res.replace(/\\bNaN\\b/g, '\"null\"'))\n    .then(res => {setData(JSON.parse(res))})\n    .then(res => {console.log(data)})\n    .catch()\n  }\n\n  useEffect(() => {\n    if(data[0].name === 'none'){\n      fetchData()\n    }\n  })\n\n  return (\n    <div className=\"flex flex-col h-screen\">\n      <header className = \"py-5 bg-yellow-400 text-white text-center text-xl font-bold\">\n        Proof-Of-Humanity Crowdvoucher Map\n      </header>\n      <main className=\"p-5 flex-1 overflow-y-auto\">\n        \n        {\n          data[0].name==='none' ? <div className='h-full flex items-center justify-center'><div className=\"text-center text-2xl\">Loading Data ...</div></div>:<MainSection data={data}/>\n        }\n        \n      </main>\n      <footer className=\"py-5 bg-yellow-400 text-center text-white text-sm\">\n        made by @MateoNeira \n      </footer>\n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}